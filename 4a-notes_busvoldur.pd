#N canvas 125 212 616 314 10;
#X floatatom 71 80 5 0 0 0 - - -;
#X obj 71 49 kbd;
#X obj 364 141 *~ 0;
#X obj 422 121 hsl 128 15 0 127 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 9100 1;
#X obj 419 141 dbtopow;
#X obj 364 182 dac~;
#X text 127 52 keyboard;
#X text 483 141 gain (dB);
#X text 415 183 audio out;
#X obj 54 79 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X text 125 80 MIDI note;
#X obj 71 248 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X text 88 250 overflow;
#X obj 364 88 catch~ bus;
#X text 145 115 partials;
#X obj 71 114 pack 0 8;
#N canvas 112 75 755 641 timbre+dur 0;
#X obj 90 28 inlet;
#X obj 83 590 outlet;
#N canvas 0 22 450 300 (subpatch) 0;
#X array formant 150 float 1;
#A 0 63.3924 63.7495 63.7495 64.1067 64.821 66.2496 67.321 68.0353
69.1068 69.1068 69.8211 70.1782 71.2496 71.9639 72.6782 73.3925 73.9282
74.464 74.8211 75.1783 75.5354 76.2497 76.6068 77.6783 81.2498 81.9641
81.9641 82.3212 82.6784 82.6784 83.0355 83.0355 83.0355 83.0355 83.0355
83.3926 83.3926 83.3926 83.3926 83.3926 83.3926 83.0355 83.0355 82.6784
82.6784 83.0355 84.1069 86.2498 86.9641 88.3927 88.7499 89.4641 90.8927
92.3213 91.2499 90.5356 90.1784 89.107 90.1784 91.9642 93.0356 93.3928
93.3928 90.5356 90.1784 90.1784 90.5356 92.3213 93.3928 93.3928 93.3928
93.0356 90.1784 90.1784 90.1784 90.1784 86.9641 86.2498 86.2498 83.3926
82.6784 82.3212 81.9641 81.6069 81.2498 81.0712 80.8926 80.8926 80.8926
80.8926 81.2498 81.6069 81.9641 83.0355 84.1069 85.1784 85.1784 85.1784
85.1784 85.1784 85.1784 84.8212 81.9641 81.9641 81.6069 81.2498 77.6783
77.6783 77.3211 76.964 76.6068 75.8926 74.1068 72.3211 71.6068 71.2496
71.2496 71.2496 71.2496 70.5353 70.3568 70.1782 69.1068 68.7496 68.0353
67.321 66.7853 66.2496 65.7139 65.1781 64.1067 63.571 63.0353 62.321
61.6067 61.0709 60.5352 59.8209 59.2852 58.7495 58.3923 58.0352 57.678
56.9638 56.6066 55.8923 55.8923 55.178 55.178 55.178;
#X coords 0 100 149 50 400 140 1;
#X restore 310 34 graph;
#X obj 116 477 tabread formant;
#X floatatom 53 137 5 0 0 0 - - -;
#X floatatom 171 135 5 0 0 0 - - -;
#X obj 54 247 until;
#X obj 54 203 f;
#X obj 53 224 t a b;
#X obj 52 280 f;
#X obj 86 279 + 1;
#X obj 67 167 t b a;
#X obj 84 328 *;
#X msg 108 249 1;
#X obj 116 500 dbtopow;
#X msg 310 358 \; formant const 80;
#X obj 91 61 unpack;
#X text 171 116 partials;
#X text 253 52 50..100;
#X text 589 13 MIDI note 0...150;
#X text 116 281 count partials;
#X text 49 346 partial frequencies;
#X text 229 478 fetch gain from table;
#X obj 53 94 mtof;
#X text 24 117 fundamental frq;
#X obj 83 372 ftom;
#N canvas 0 22 450 300 (subpatch) 0;
#X array duration 150 float 1;
#A 0 967.852 967.852 967.852 967.852 967.852 967.852 967.852 967.852
964.281 960.71 953.567 946.424 942.853 939.281 935.71 932.138 928.567
924.995 917.853 910.71 903.567 903.567 903.567 903.567 896.424 889.281
889.281 889.281 885.71 882.139 874.996 871.424 867.853 860.71 853.567
848.805 844.044 839.282 834.52 829.758 824.996 820.234 815.472 810.71
807.139 782.139 774.996 774.996 774.996 774.996 774.996 774.996 782.139
782.139 782.139 782.139 782.139 782.139 782.139 774.996 774.996 771.425
767.853 767.853 767.853 764.282 760.711 757.139 753.568 749.996 746.425
739.282 732.139 724.996 717.854 710.711 705.949 701.187 696.425 682.14
671.425 660.711 649.997 639.283 610.711 603.568 596.426 589.283 574.997
564.283 553.569 546.426 539.283 532.14 524.997 517.855 510.712 510.712
489.283 482.141 460.712 446.426 432.141 410.712 410.712 403.569 403.569
399.998 396.427 396.427 396.427 396.427 396.427 396.427 392.855 389.284
385.712 382.141 380.355 378.57 376.784 374.998 371.427 367.855 364.284
360.713 355.951 351.189 346.427 342.141 337.855 333.57 329.284 324.998
320.713 316.427 312.141 307.856 303.57 299.999 296.427 292.856 289.284
282.141 274.999 267.856 260.713 253.57 246.427 239.285;
#X coords 0 1000 149 0 400 140 1;
#X restore 309 197 graph;
#X msg 440 358 \; duration const 500;
#X obj 83 399 t a a a;
#X text 270 445 fetch duration from table;
#X obj 150 446 tabread duration;
#X text 46 543 midinote volume attack decay;
#X obj 84 563 pack 0 0 20 0;
#X text 249 218 0..1000;
#X text 240 200 decay(ms);
#X text 249 34 gain(dB);
#X connect 0 0 16 0;
#X connect 3 0 14 0;
#X connect 4 0 11 0;
#X connect 5 0 7 1;
#X connect 6 0 9 0;
#X connect 7 0 8 0;
#X connect 8 0 6 0;
#X connect 8 1 13 0;
#X connect 9 0 10 0;
#X connect 9 0 12 0;
#X connect 10 0 9 1;
#X connect 11 0 7 0;
#X connect 11 1 12 1;
#X connect 12 0 25 0;
#X connect 13 0 9 1;
#X connect 14 0 32 1;
#X connect 16 0 23 0;
#X connect 16 1 5 0;
#X connect 23 0 4 0;
#X connect 25 0 28 0;
#X connect 28 0 32 0;
#X connect 28 1 3 0;
#X connect 28 2 30 0;
#X connect 30 0 32 3;
#X connect 32 0 1 0;
#X restore 71 136 pd timbre+dur;
#X obj 72 170 list prepend bus;
#X text 74 202 bus midinote volume attack decay;
#X obj 71 221 x11 x10 voice note_busvoldur;
#X connect 0 0 15 0;
#X connect 1 0 9 0;
#X connect 1 0 0 0;
#X connect 2 0 5 0;
#X connect 2 0 5 1;
#X connect 3 0 4 0;
#X connect 4 0 2 1;
#X connect 13 0 2 0;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 17 0 19 0;
#X connect 19 0 11 0;
